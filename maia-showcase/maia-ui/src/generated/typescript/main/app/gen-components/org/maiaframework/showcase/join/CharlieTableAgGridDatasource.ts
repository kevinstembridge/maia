// This source was generated by the Maia Framework code generator
// Renderer class: class org.maiaframework.gen.renderers.ui.AgGridDatasourceRenderer

import {Injectable} from '@angular/core';
import {HttpClient} from '@angular/common/http';
import {IDatasource, IGetRowsParams} from 'ag-grid-community';
import {CharlieTableDto} from '@app/gen-components/org/maiaframework/showcase/join/CharlieTableDto';
import {SearchResultPage} from '@app/gen-components/common/model/SearchResultPage';


@Injectable({providedIn: 'root'})
export class CharlieTableAgGridDatasource implements IDatasource {

    constructor(
        private http: HttpClient
    ) { }

    rowCount: number = undefined;


    getRows(params: IGetRowsParams): void {

        this.http.post<SearchResultPage<CharlieTableDto>>(
            '/api/charlie_table/search',
            params
        ).subscribe({
           next: searchResultPage => params.successCallback(searchResultPage.results, searchResultPage.totalResultCount)
        });

    }


}
