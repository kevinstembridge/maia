// This source was generated by the Maia Framework code generator
// Renderer class: class org.maiaframework.gen.renderers.RowMapperRenderer

package org.maiaframework.showcase.all_field_types

import org.maiaframework.jdbc.MaiaRowMapper
import org.maiaframework.jdbc.ResultSetAdapter
import org.maiaframework.showcase.SimpleResponseDto
import org.maiaframework.showcase.enums.SomeEnum
import org.maiaframework.showcase.party.PartyPkAndNameDto
import org.maiaframework.showcase.types.SomeBooleanType
import org.maiaframework.showcase.types.SomeIntType
import org.maiaframework.showcase.types.SomeLongType
import org.maiaframework.showcase.types.SomeProvidedBooleanType
import org.maiaframework.showcase.types.SomeProvidedIntType
import org.maiaframework.showcase.types.SomeProvidedLongType
import org.maiaframework.showcase.types.SomeProvidedStringType
import org.maiaframework.showcase.types.SomeStringType
import tools.jackson.core.type.TypeReference
import tools.jackson.databind.json.JsonMapper
import java.time.Instant
import java.time.LocalDate
import java.time.Period


class AllFieldTypesFetchForEditDtoRowMapper(
    private val jsonMapper: JsonMapper
) : MaiaRowMapper<AllFieldTypesFetchForEditDto> {


    override fun mapRow(rsa: ResultSetAdapter): AllFieldTypesFetchForEditDto {

        return AllFieldTypesFetchForEditDto(
            PartyPkAndNameDto(
                rsa.readDomainId("createdById"),
                rsa.readString("createdByName") ?: "(blank)",
            ),
            rsa.readString("createdByUsername"),
            rsa.readInstant("createdTimestampUtc"),
            rsa.readDomainId("id"),
            PartyPkAndNameDto(
                rsa.readDomainId("lastModifiedById"),
                rsa.readString("lastModifiedByName") ?: "(blank)",
            ),
            rsa.readString("lastModifiedByUsername"),
            rsa.readInstant("lastModifiedTimestampUtc"),
            rsa.readBoolean("someBoolean"),
            rsa.readBooleanOrNull("someBooleanNullable"),
            rsa.readBoolean("someBooleanType") { SomeBooleanType(it) },
            rsa.readBooleanOrNull("someBooleanTypeNullable") { SomeBooleanType(it) },
            rsa.readBoolean("someBooleanTypeProvided") { SomeProvidedBooleanType(it) },
            rsa.readBooleanOrNull("someBooleanTypeProvidedNullable") { SomeProvidedBooleanType(it) },
            rsa.readString("someDto") { jsonMapper.readValue(it, SimpleResponseDto::class.java) },
            rsa.readStringOrNull("someDtoNullable") { jsonMapper.readValue(it, SimpleResponseDto::class.java) },
            rsa.readEnum("someEnum", SomeEnum::class.java),
            rsa.readEnumOrNull("someEnumNullable", SomeEnum::class.java),
            rsa.readInstant("someInstant"),
            rsa.readInstant("someInstantModifiable"),
            rsa.readInstantOrNull("someInstantModifiableNullable"),
            rsa.readInstantOrNull("someInstantNullable"),
            rsa.readInt("someInt"),
            rsa.readInt("someIntModifiable"),
            rsa.readIntOrNull("someIntNullable"),
            rsa.readInt("someIntType") { SomeIntType(it) },
            rsa.readIntOrNull("someIntTypeNullable") { SomeIntType(it) },
            rsa.readInt("someIntTypeProvided") { SomeProvidedIntType(it) },
            rsa.readIntOrNull("someIntTypeProvidedNullable") { SomeProvidedIntType(it) },
            rsa.readListOfStrings("someListOfEnums") { SomeEnum.valueOf(it) },
            rsa.readListOfInstants("someListOfInstants"),
            rsa.readListOfLocalDates("someListOfLocalDates"),
            rsa.readListOfStrings("someListOfPeriods") { Period.parse(it) },
            rsa.readListOfStrings("someListOfStringTypes") { SomeStringType(it) },
            rsa.readListOfStrings("someListOfStrings"),
            rsa.readLocalDate("someLocalDateModifiable"),
            rsa.readLong("someLongType") { SomeLongType(it) },
            rsa.readLongOrNull("someLongTypeNullable") { SomeLongType(it) },
            rsa.readLong("someLongTypeProvided") { SomeProvidedLongType(it) },
            rsa.readLongOrNull("someLongTypeProvidedNullable") { SomeProvidedLongType(it) },
            rsa.readString("someMapOfStringToInteger") { jsonMapper.readValue(it, object : TypeReference<Map<String, Int>>() {}) },
            rsa.readString("someMapOfStringTypeToStringType") { jsonMapper.readValue(it, object : TypeReference<Map<SomeStringType, SomeStringType>>() {}) },
            rsa.readPeriod("somePeriodModifiable"),
            rsa.readPeriodOrNull("somePeriodNullable"),
            rsa.readString("someProvidedStringType") { SomeProvidedStringType(it) },
            rsa.readStringOrNull("someProvidedStringTypeNullable") { SomeProvidedStringType(it) },
            rsa.readString("someString"),
            rsa.readString("someStringModifiable"),
            rsa.readStringOrNull("someStringNullable"),
            rsa.readString("someStringType") { SomeStringType(it) },
            rsa.readStringOrNull("someStringTypeNullable") { SomeStringType(it) },
        )

    }


}

