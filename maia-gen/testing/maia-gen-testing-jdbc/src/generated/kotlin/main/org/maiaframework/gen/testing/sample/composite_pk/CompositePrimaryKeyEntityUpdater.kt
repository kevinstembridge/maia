// This source was generated by the Maia Framework code generator
// Renderer class: class org.maiaframework.gen.renderers.EntityUpdaterRenderer

package org.maiaframework.gen.testing.sample.composite_pk

import org.maiaframework.domain.persist.FieldUpdate


data class CompositePrimaryKeyEntityUpdater(
    val fields: List<FieldUpdate>,
    val someString: String,
    val someInt: Int,
    val version: Long
) {


    val primaryKey = mapOf(
        "someString" to someString,
        "someInt" to someInt,
    )


    class Builder(
        val someString: String,
        val someInt: Int,
        val version: Long
    ) {


        private val fields = mutableListOf<FieldUpdate>()


        fun build(): CompositePrimaryKeyEntityUpdater {

            return CompositePrimaryKeyEntityUpdater(
                this.fields,
                this.someString,
                this.someInt,
                this.version
            )

        }


        fun someModifiableString(someModifiableString: String) {

            this.fields.add(FieldUpdate("someModifiableString", "some_modifiable_string", someModifiableString))

        }


    }


    companion object {


        fun forPrimaryKey(
            someString: String,
            someInt: Int,
            version: Long,
            init: Builder.() -> Unit
        ): CompositePrimaryKeyEntityUpdater {

            val builder = Builder(
                someString,
                someInt,
                version
            )
            builder.init()
            return builder.build()

        }


    }


}

