// This source was generated by the Maia Framework code generator
// Renderer class: class org.maiaframework.gen.renderers.EntityUpdaterRenderer

package org.maiaframework.props

import org.maiaframework.domain.persist.FieldUpdate
import java.time.Instant


data class PropsEntityUpdater(
    val fields: List<FieldUpdate>,
    val propertyName: String,
    val version: Long
) {


    val primaryKey = mapOf(
        "propertyName" to propertyName,
    )


    class Builder(
        val propertyName: String,
        val version: Long
    ) {


        private val fields = mutableListOf<FieldUpdate>()


        fun build(): PropsEntityUpdater {

            return PropsEntityUpdater(
                this.fields,
                this.propertyName,
                this.version
            )

        }


        fun propertyValue(propertyValue: String) {

            this.fields.add(FieldUpdate("propertyValue", "property_value", propertyValue))

        }


        fun lastModifiedBy(lastModifiedBy: String) {

            this.fields.add(FieldUpdate("lastModifiedBy", "last_modified_by", lastModifiedBy))

        }


        fun lastModifiedTimestampUtc(lastModifiedTimestampUtc: Instant) {

            this.fields.add(FieldUpdate("lastModifiedTimestampUtc", "lm_ts", lastModifiedTimestampUtc))

        }


    }


    companion object {


        fun forPrimaryKey(
            propertyName: String,
            version: Long,
            init: Builder.() -> Unit
        ): Builder {

            val builder = Builder(
                propertyName,
                version
            )
            builder.init()
            return builder

        }


    }


}

