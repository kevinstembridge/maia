// This source was generated by the Maia Framework code generator
// Renderer class: class org.maiaframework.gen.renderers.ForeignKeyReferenceServiceRenderer

package org.maiaframework.gen.testing.jdbc.sample.many_to_many

import org.maiaframework.domain.DomainId
import org.maiaframework.webapp.domain.ForeignKeyReferencesExistResponseDto
import org.slf4j.LoggerFactory
import org.springframework.stereotype.Component


@Component
class LeftForeignKeyReferencesService(
    private val manyToManyJoinRepo: ManyToManyJoinRepo
) {


    private val logger = LoggerFactory.getLogger(LeftForeignKeyReferencesService::class.java)


    fun checkForeignKeyReferences(id: DomainId): ForeignKeyReferencesExistResponseDto {

        if (this.manyToManyJoinRepo.existsByLeftId(id)) {
            return ForeignKeyReferencesExistResponseDto(id, true, "ManyToManyJoin")
        }

        return ForeignKeyReferencesExistResponseDto(id, false, null)

    }


}

