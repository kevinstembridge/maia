// This source was generated by the Maia Framework code generator
// Renderer class: class org.maiaframework.gen.renderers.SearchDtoSearchServiceRenderer

package org.maiaframework.gen.testing.jdbc.sample.many_to_many

import com.fasterxml.jackson.databind.node.JsonNodeFactory
import org.maiaframework.domain.search.AgGridSearchModel
import org.maiaframework.domain.search.AgGridSortModelItem
import org.maiaframework.domain.search.SearchResultPage
import org.springframework.stereotype.Service


@Service
class LeftNotMappedToRightDtoSearchService(
    private val dtoRepo: LeftNotMappedToRightDtoRepo
) {


    fun search(searchModel: AgGridSearchModel): SearchResultPage<LeftNotMappedToRightDto> {

        return this.dtoRepo.getRows(searchModel)

    }


    fun count(searchModel: AgGridSearchModel): Long {

        return this.dtoRepo.countRows(searchModel)

    }


    fun findAll(): List<LeftNotMappedToRightDto> {

        val sortModel = emptyList<AgGridSortModelItem>()

        val searchModel = AgGridSearchModel(
            JsonNodeFactory.instance.objectNode(),
            sortModel,
            0,
            null
        )

        val searchResult = this.dtoRepo.getRows(searchModel)

        return searchResult.results

    }


}

