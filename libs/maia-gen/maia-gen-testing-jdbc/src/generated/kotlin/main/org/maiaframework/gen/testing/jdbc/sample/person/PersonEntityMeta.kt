// This source was generated by the Maia Framework code generator
// Renderer class: class org.maiaframework.gen.renderers.EntityMetaRenderer

package org.maiaframework.gen.testing.jdbc.sample.person

import org.maiaframework.domain.EntityKey
import org.maiaframework.domain.persist.SchemaName
import org.maiaframework.domain.types.TypeDiscriminator
import org.maiaframework.gen.testing.jdbc.sample.user.UserEntity
import org.maiaframework.jdbc.SchemaAndTableName
import org.maiaframework.jdbc.TableName


object PersonEntityMeta {

    const val createdTimestampUtc = "c_ts"

    const val displayName = "display_name"

    const val emailAddress = "email_address"

    const val firstName = "first_name"

    const val id = "id"

    const val lastModifiedTimestampUtc = "lm_ts"

    const val lastName = "last_name"

    val ENTITY_KEY = EntityKey("Person")

    val TYPE_DISCRIMINATOR = TypeDiscriminator("PE")

    val TYPE_DISCRIMINATORS = sortedSetOf(TypeDiscriminator("PE"), TypeDiscriminator("USR"))

    val SCHEMA_NAME = SchemaName("testing")

    val TABLE_NAME = TableName("v_party")

    val SCHEMA_AND_TABLE_NAME = SchemaAndTableName(SCHEMA_NAME, TABLE_NAME)


    fun typeDiscriminatorFor(personEntity: PersonEntity): TypeDiscriminator {

        return when(personEntity) {
            is UserEntity -> TypeDiscriminator("USR")
            is PersonEntity -> TypeDiscriminator("PE")
            else -> throw IllegalStateException("Unknown type of PartyEntity: $personEntity")
        }

    }


    fun convertClassFieldNameToTableColumnName(classFieldName: String): String {

        return when(classFieldName) {
            "createdTimestampUtc" -> "c_ts"
            "displayName" -> "display_name"
            "emailAddress" -> "email_address"
            "firstName" -> "first_name"
            "id" -> "id"
            "lastModifiedTimestampUtc" -> "lm_ts"
            "lastName" -> "last_name"
            else ->
                throw IllegalArgumentException("Unknown classFieldName [$classFieldName]")
        }

    }


}

