// This source was generated by the Maia Framework code generator
// Renderer class: class org.maiaframework.gen.renderers.EntityUpdaterRenderer

package org.maiaframework.gen.testing.jdbc.sample.history

import org.maiaframework.domain.DomainId
import org.maiaframework.domain.IdAndVersion
import org.maiaframework.domain.persist.FieldUpdate
import java.time.Instant


data class HistorySampleEntityUpdater(
    val fields: List<FieldUpdate>,
    val id: DomainId,
    val version: Long
) {


    class Builder(val id: DomainId, val version: Long) {


        private val fields = mutableListOf<FieldUpdate>()


        fun build(): HistorySampleEntityUpdater {

            return HistorySampleEntityUpdater(this.fields, this.id, this.version)

        }


        fun someString(someString: String) {

            this.fields.add(FieldUpdate("someString", "some_string", someString))

        }


        fun someInt(someInt: Int) {

            this.fields.add(FieldUpdate("someInt", "some_int", someInt))

        }


        fun lastModifiedTimestampUtc(lastModifiedTimestampUtc: Instant) {

            this.fields.add(FieldUpdate("lastModifiedTimestampUtc", "lm_ts", lastModifiedTimestampUtc))

        }


        fun lastModifiedById(lastModifiedById: DomainId) {

            this.fields.add(FieldUpdate("lastModifiedById", "lm_by_id", lastModifiedById))

        }


    }


    companion object {


        fun forIdAndVersion(id: DomainId, version: Long, init: Builder.() -> Unit): Builder {

            val builder = Builder(id, version)
            builder.init()
            return builder

        }


        fun forIdAndVersion(idAndVersion: IdAndVersion, init: Builder.() -> Unit): Builder {

            val builder = Builder(idAndVersion.id, idAndVersion.version)
            builder.init()
            return builder

        }


    }


}

