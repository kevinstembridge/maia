// This source was generated by the Maia Framework code generator
// Renderer class: class org.maiaframework.gen.renderers.EntityRowMapperRenderer

package org.maiaframework.gen.testing.jdbc.sample.simple

import com.fasterxml.jackson.core.type.TypeReference
import com.fasterxml.jackson.databind.ObjectMapper
import org.maiaframework.gen.sample.types.SomeProvidedBooleanType
import org.maiaframework.gen.sample.types.SomeProvidedIntType
import org.maiaframework.gen.sample.types.SomeProvidedLongType
import org.maiaframework.gen.sample.types.SomeProvidedStringType
import org.maiaframework.gen.sample.types.SomeStringType
import org.maiaframework.gen.testing.jdbc.sample.SimpleResponseDto
import org.maiaframework.gen.testing.jdbc.sample.types.SomeBooleanType
import org.maiaframework.gen.testing.jdbc.sample.types.SomeIntType
import org.maiaframework.gen.testing.jdbc.sample.types.SomeLongType
import org.maiaframework.jdbc.MaiaRowMapper
import org.maiaframework.jdbc.ResultSetAdapter
import java.time.Instant
import java.time.LocalDate
import java.time.Period


class SimpleEntityRowMapper(
    private val objectMapper: ObjectMapper
) : MaiaRowMapper<SimpleEntity> {


    override fun mapRow(rsa: ResultSetAdapter): SimpleEntity {

        val createdById = rsa.readDomainId("created_by_id")
        val createdByUsername = rsa.readString("created_by_name")
        val createdTimestampUtc = rsa.readInstant("c_ts")
        val id = rsa.readDomainId("id")
        val lastModifiedById = rsa.readDomainId("lm_by_id")
        val lastModifiedByUsername = rsa.readString("lm_by_name")
        val lastModifiedTimestampUtc = rsa.readInstant("lm_ts")
        val someBoolean = rsa.readBoolean("some_boolean")
        val someBooleanNullable = rsa.readBooleanOrNull("some_boolean_nullable")
        val someBooleanType = rsa.readBoolean("some_boolean_type") { SomeBooleanType(it) }
        val someBooleanTypeNullable = rsa.readBooleanOrNull("some_boolean_type_nullable") { SomeBooleanType(it) }
        val someBooleanTypeProvided = rsa.readBoolean("some_boolean_type_provided") { SomeProvidedBooleanType(it) }
        val someBooleanTypeProvidedNullable = rsa.readBooleanOrNull("some_boolean_type_provided_nullable") { SomeProvidedBooleanType(it) }
        val someDto = rsa.readString("some_dto") { objectMapper.readValue(it, object : TypeReference<SimpleResponseDto>() {}) }
        val someDtoNullable = rsa.readStringOrNull("some_dto_nullable") { objectMapper.readValue(it, object : TypeReference<SimpleResponseDto?>() {}) }
        val someEnum = rsa.readEnum("some_enum", SomeEnum::class.java)
        val someEnumNullable = rsa.readEnumOrNull("some_enum_nullable", SomeEnum::class.java)
        val someInstant = rsa.readInstant("some_instant")
        val someInstantModifiable = rsa.readInstant("some_instant_modifiable")
        val someInstantModifiableNullable = rsa.readInstantOrNull("some_instant_modifiable_nullable")
        val someInstantNullable = rsa.readInstantOrNull("some_instant_nullable")
        val someInt = rsa.readInt("some_int")
        val someIntModifiable = rsa.readInt("some_int_modifiable")
        val someIntNullable = rsa.readIntOrNull("some_int_nullable")
        val someIntType = rsa.readInt("some_int_type") { SomeIntType(it) }
        val someIntTypeNullable = rsa.readIntOrNull("some_int_type_nullable") { SomeIntType(it) }
        val someIntTypeProvided = rsa.readInt("some_int_type_provided") { SomeProvidedIntType(it) }
        val someIntTypeProvidedNullable = rsa.readIntOrNull("some_int_type_provided_nullable") { SomeProvidedIntType(it) }
        val someListOfEnums = rsa.readListOfStrings("some_list_of_enums") { SomeEnum.valueOf(it) }
        val someListOfInstants = rsa.readListOfInstants("some_list_of_instants")
        val someListOfLocalDates = rsa.readListOfLocalDates("some_list_of_local_dates")
        val someListOfPeriods = rsa.readListOfStrings("some_list_of_periods") { Period.parse(it) }
        val someListOfStringTypes = rsa.readListOfStrings("some_list_of_string_types") { SomeStringType(it) }
        val someListOfStrings = rsa.readListOfStrings("some_list_of_strings")
        val someLocalDateModifiable = rsa.readLocalDate("some_local_date_modifiable")
        val someLongType = rsa.readLong("some_long_type") { SomeLongType(it) }
        val someLongTypeNullable = rsa.readLongOrNull("some_long_type_nullable") { SomeLongType(it) }
        val someLongTypeProvided = rsa.readLong("some_long_type_provided") { SomeProvidedLongType(it) }
        val someLongTypeProvidedNullable = rsa.readLongOrNull("some_long_type_provided_nullable") { SomeProvidedLongType(it) }
        val someMapOfStringToInteger = rsa.readString("some_map_of_string_to_integer") { objectMapper.readValue(it, object : TypeReference<Map<String, Int>>() {}) }
        val someMapOfStringTypeToStringType = rsa.readString("some_map_of_string_type_to_string_type") { objectMapper.readValue(it, object : TypeReference<Map<SomeStringType, SomeStringType>>() {}) }
        val somePeriodModifiable = rsa.readPeriod("some_period_modifiable")
        val somePeriodNullable = rsa.readPeriodOrNull("some_period_nullable")
        val someProvidedStringType = rsa.readString("some_provided_string_type") { SomeProvidedStringType(it) }
        val someProvidedStringTypeNullable = rsa.readStringOrNull("some_provided_string_type_nullable") { SomeProvidedStringType(it) }
        val someString = rsa.readString("some_string")
        val someStringModifiable = rsa.readString("some_string_modifiable")
        val someStringNullable = rsa.readStringOrNull("some_string_nullable")
        val someStringType = rsa.readString("some_string_type") { SomeStringType(it) }
        val someStringTypeNullable = rsa.readStringOrNull("some_string_type_nullable") { SomeStringType(it) }

        return SimpleEntity(
                createdById,
                createdByUsername,
                createdTimestampUtc,
                id,
                lastModifiedById,
                lastModifiedByUsername,
                lastModifiedTimestampUtc,
                someBoolean,
                someBooleanNullable,
                someBooleanType,
                someBooleanTypeNullable,
                someBooleanTypeProvided,
                someBooleanTypeProvidedNullable,
                someDto,
                someDtoNullable,
                someEnum,
                someEnumNullable,
                someInstant,
                someInstantModifiable,
                someInstantModifiableNullable,
                someInstantNullable,
                someInt,
                someIntModifiable,
                someIntNullable,
                someIntType,
                someIntTypeNullable,
                someIntTypeProvided,
                someIntTypeProvidedNullable,
                someListOfEnums,
                someListOfInstants,
                someListOfLocalDates,
                someListOfPeriods,
                someListOfStringTypes,
                someListOfStrings,
                someLocalDateModifiable,
                someLongType,
                someLongTypeNullable,
                someLongTypeProvided,
                someLongTypeProvidedNullable,
                someMapOfStringToInteger,
                someMapOfStringTypeToStringType,
                somePeriodModifiable,
                somePeriodNullable,
                someProvidedStringType,
                someProvidedStringTypeNullable,
                someString,
                someStringModifiable,
                someStringNullable,
                someStringType,
                someStringTypeNullable
        )

    }


}

