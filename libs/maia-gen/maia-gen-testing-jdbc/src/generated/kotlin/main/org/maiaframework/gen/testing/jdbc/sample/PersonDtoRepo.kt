// This source was generated by the Maia Framework code generator
// Renderer class: class org.maiaframework.gen.renderers.SearchableTableDtoJdbcRepoRenderer

package org.maiaframework.gen.testing.jdbc.sample

import org.maiaframework.domain.search.AgGridSearchModel
import org.maiaframework.domain.search.SearchResultPage
import org.maiaframework.gen.search.AgGridSearchableException
import org.springframework.stereotype.Repository


@Repository
class PersonDtoRepo(
    private val dao: PersonDtoDao
) {


    fun getRows(searchModel: AgGridSearchModel): SearchResultPage<PersonDto> {

        try {
            return this.dao.search(searchModel)
        } catch (e: Exception) {
            throw AgGridSearchableException(searchModel, e)
        }

    }


    fun countRows(searchModel: AgGridSearchModel): Long {

        try {
            return this.dao.count(searchModel)
        } catch (e: Exception) {
            throw AgGridSearchableException(searchModel, e)
        }

    }


}

