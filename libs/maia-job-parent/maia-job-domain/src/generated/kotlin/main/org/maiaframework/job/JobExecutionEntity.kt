// This source was generated by the Maia Framework code generator
// Renderer class: class org.maiaframework.gen.renderers.EntityRenderer

package org.maiaframework.job

import org.maiaframework.domain.DomainId
import java.time.Instant


class JobExecutionEntity(
    val completionStatus: JobCompletionStatus?,
    val createdTimestampUtc: Instant,
    val endTimestampUtc: Instant?,
    val errorMessage: String?,
    val id: DomainId,
    val invokedBy: String,
    val jobName: JobName,
    val lastModifiedTimestampUtc: Instant,
    val metrics: Map<String, Any>,
    val stackTrace: String?,
    val startTimestampUtc: Instant
) {


    override fun toString(): String {

        return "JobExecutionEntity{" +
                "completionStatus = '" + this.completionStatus + '\'' + ", " + 
                "createdTimestampUtc = '" + this.createdTimestampUtc + '\'' + ", " + 
                "endTimestampUtc = '" + this.endTimestampUtc + '\'' + ", " + 
                "errorMessage = '" + this.errorMessage + '\'' + ", " + 
                "id = '" + this.id + '\'' + ", " + 
                "invokedBy = '" + this.invokedBy + '\'' + ", " + 
                "jobName = '" + this.jobName + '\'' + ", " + 
                "lastModifiedTimestampUtc = '" + this.lastModifiedTimestampUtc + '\'' + ", " + 
                "metrics = '" + this.metrics + '\'' + ", " + 
                "stackTrace = '" + this.stackTrace + '\'' + ", " + 
                "startTimestampUtc = '" + this.startTimestampUtc + '\'' +
                "}"

    }


    companion object {


        fun newId(): DomainId {
            return DomainId.newId()
        }


        @JvmStatic
        fun newInstance(
            completionStatus: JobCompletionStatus?,
            endTimestampUtc: Instant?,
            errorMessage: String?,
            invokedBy: String,
            jobName: JobName,
            metrics: Map<String, Any>,
            stackTrace: String?,
            startTimestampUtc: Instant
        ): JobExecutionEntity {

            val createdTimestampUtc = Instant.now()
            val id = newId()
            val lastModifiedTimestampUtc = createdTimestampUtc

            return JobExecutionEntity(
                completionStatus,
                createdTimestampUtc,
                endTimestampUtc,
                errorMessage,
                id,
                invokedBy,
                jobName,
                lastModifiedTimestampUtc,
                metrics,
                stackTrace,
                startTimestampUtc
            )

        }


    }


}

