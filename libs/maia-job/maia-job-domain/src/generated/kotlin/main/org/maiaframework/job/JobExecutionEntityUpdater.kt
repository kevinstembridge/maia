// This source was generated by the Maia Framework code generator
// Renderer class: class org.maiaframework.gen.renderers.EntityUpdaterRenderer

package org.maiaframework.job

import org.maiaframework.domain.DomainId
import org.maiaframework.domain.persist.FieldUpdate
import java.time.Instant


data class JobExecutionEntityUpdater(
    val fields: List<FieldUpdate>,
    val id: DomainId
) {


    val primaryKey = mapOf(
        "id" to id,
    )


    class Builder(val id: DomainId) {


        private val fields = mutableListOf<FieldUpdate>()


        fun build(): JobExecutionEntityUpdater {

            return JobExecutionEntityUpdater(this.fields, this.id)

        }


        fun endTimestampUtc(endTimestampUtc: Instant?) {

            this.fields.add(FieldUpdate("endTimestampUtc", "end_timestamp_utc", endTimestampUtc))

        }


        fun completionStatus(completionStatus: JobCompletionStatus?) {

            this.fields.add(FieldUpdate("completionStatus", "completion_status", completionStatus))

        }


        fun metrics(metrics: Map<String, Any>) {

            this.fields.add(FieldUpdate("metrics", "metrics", metrics))

        }


        fun errorMessage(errorMessage: String?) {

            this.fields.add(FieldUpdate("errorMessage", "error_message", errorMessage))

        }


        fun stackTrace(stackTrace: String?) {

            this.fields.add(FieldUpdate("stackTrace", "stack_trace", stackTrace))

        }


        fun lastModifiedTimestampUtc(lastModifiedTimestampUtc: Instant) {

            this.fields.add(FieldUpdate("lastModifiedTimestampUtc", "lm_ts", lastModifiedTimestampUtc))

        }


    }


    companion object {


        fun forPrimaryKey(
            id: DomainId,
            init: Builder.() -> Unit
        ): Builder {

            val builder = Builder(id)
            builder.init()
            return builder

        }


    }


}

