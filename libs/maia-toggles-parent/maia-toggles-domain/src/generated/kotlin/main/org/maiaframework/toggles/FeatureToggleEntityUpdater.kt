// This source was generated by the Maia Framework code generator
// Renderer class: class org.maiaframework.gen.renderers.EntityUpdaterRenderer

package org.maiaframework.toggles

import org.maiaframework.domain.persist.FieldUpdate
import org.maiaframework.toggles.activation.ActivationStrategyDescriptor
import org.maiaframework.toggles.fields.ContactPerson
import org.maiaframework.toggles.fields.Description
import org.maiaframework.toggles.fields.InfoLink
import org.maiaframework.toggles.fields.TicketKey
import java.time.Instant
import java.time.LocalDate


data class FeatureToggleEntityUpdater(
    val fields: List<FieldUpdate>,
    val featureName: FeatureName,
    val version: Long
) {


    val primaryKey = mapOf(
        "featureName" to featureName,
    )


    class Builder(
        val featureName: FeatureName,
        val version: Long
    ) {


        private val fields = mutableListOf<FieldUpdate>()


        fun build(): FeatureToggleEntityUpdater {

            return FeatureToggleEntityUpdater(
                this.fields,
                this.featureName,
                this.version
            )

        }


        fun enabled(enabled: Boolean) {

            this.fields.add(FieldUpdate("enabled", "enabled", enabled))

        }


        fun description(description: Description?) {

            this.fields.add(FieldUpdate("description", "description", description))

        }


        fun ticketKey(ticketKey: TicketKey?) {

            this.fields.add(FieldUpdate("ticketKey", "ticket_key", ticketKey))

        }


        fun reviewDate(reviewDate: LocalDate?) {

            this.fields.add(FieldUpdate("reviewDate", "review_date", reviewDate))

        }


        fun contactPerson(contactPerson: ContactPerson?) {

            this.fields.add(FieldUpdate("contactPerson", "contact_person", contactPerson))

        }


        fun infoLink(infoLink: InfoLink?) {

            this.fields.add(FieldUpdate("infoLink", "info_link", infoLink))

        }


        fun attributes(attributes: Map<String, String>?) {

            this.fields.add(FieldUpdate("attributes", "attributes", attributes))

        }


        fun lastModifiedByUsername(lastModifiedByUsername: String) {

            this.fields.add(FieldUpdate("lastModifiedByUsername", "last_modified_by_name", lastModifiedByUsername))

        }


        fun lastModifiedTimestampUtc(lastModifiedTimestampUtc: Instant) {

            this.fields.add(FieldUpdate("lastModifiedTimestampUtc", "last_modified_timestamp_utc", lastModifiedTimestampUtc))

        }


        fun comment(comment: String?) {

            this.fields.add(FieldUpdate("comment", "comment", comment))

        }


        fun activationStrategies(activationStrategies: List<ActivationStrategyDescriptor>) {

            this.fields.add(FieldUpdate("activationStrategies", "activation_strategies", activationStrategies))

        }


    }


    companion object {


        fun forPrimaryKey(
            featureName: FeatureName,
            version: Long,
            init: Builder.() -> Unit
        ): FeatureToggleEntityUpdater {

            val builder = Builder(
                featureName,
                version
            )
            builder.init()
            return builder.build()

        }


    }


}

